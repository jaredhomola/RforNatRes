---
title: "Homework 4"
author: "firstName lastName"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document: default
  pdf_document: default
---
  
```{r, echo = FALSE, message = FALSE}
### Set up you workspace with the necessary data and packages
list.of.packages <- c("remotes", "tidyverse", "Lahman", "palmerpenguins") ## Vector of required packages for the assignment
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[, "Package"])] ## Check to see if these packages are installed
if(length(new.packages))
  install.packages(new.packages) ## Install the packages that aren't installed
library(remotes)

install_github("lter/lterdatasampler", force = FALSE) ## Install a package that isn't on CRAN
```


**Question 1: Analyze data from the Palmer Penguins data set**  
For Question 1b and beyond, copy and paste the code from the preceding question, add a pipe, then add your new code. No new variables should be assigned throughout Question 1.  

Question 1a. Subset and rearrange the columns to include only species, island, year, sex, body_mass_g in that order.  
```{r}
# Answer 1a

```

Question 1b. Continue to develop the code by subsampling 100 observations from the full data set.  
```{r}
# Answer 1b

```

Question 1c. Subset the observations to only include the Gentoo species from Biscoe island.     
```{r}
# Answer 1c

```

Question 1d. Now exclude all observation that include an NA for any variable.    
```{r}
# Answer 1d

```

Question 1e. Summarize the data to calculate the average body mass of male and female Gentoo penguins from Biscoe Island.     
```{r}
# Answer 1e

```



**Questions 2: Analysis of Lake Mendota ice cover data**  
As with Question 1, copy and paste your code from one question to the next to continue to develop your analysis as one continuous series of pipes (i.e., a pipeline).  

Question 2a. Subset the ntl_icecover data to include only Lake Mendota observation.   
```{r}
# Answer 2a

```

Question 2b. Exclude observations containing NAs.  
```{r}
# Answer 2b

```

Question 2c. Remove the ice_off and year columns.     
```{r}
# Answer 2c

```

Question 2d. The ice_on column now needs to get simplified to show only the year and month. Use only one function to achieve both the separation of day, month, and year as well as the dropping of the day variable.       
```{r}
# Answer 2d

```

Question 2e. Add two more lines of code to determine whether the mean ice_duration was longer in years that had ice on occur in November, December, or January.       
```{r}
# Answer 2e

```

**Question 3: Analyze Major League Baseball salary data **  
The next set of data we'll analyze is the Lahman::Salaries data, which includes salary data for all Major League Baseball players since 1985. This question will have just one part, but it will require a pipeline that strings multiple Tidyverse functions together to generate the answer.   

Question 3. Calculate average salary for each major league team in 2012. Your resulting tibble should be arranged in descending order of average salary and use kableExtra to improve your presentation of the resulting tibble- feel free to get creative in how it is displayed.   

Hint: I achieved this using four tidyverse functions and two from kableExtra. You should be at or near that.   
```{r}
# Answer 3a
library(Lahman)
library(kableExtra)
Lahman::Salaries %>%
  filter(yearID == 2012) %>%
  group_by(teamID) %>%
  summarize(avg_salary = mean(salary)) %>%
  arrange(desc(avg_salary)) %>% 
  kbl() %>% 
  kable_styling(full_width = FALSE)
```


**Question 4: Clean up the presentation of your knitted HTML file **
Modify the R Markdown document as needed to ensure the only output that is displayed is 1) the questions, 2) your code, and 3) the resulting kableExtra-polished tibbles for each question/sub-question.  